version: "3"
services:
  vue-app:
    build: ./ReleaseBoard/
    ports:
      - 80:80
    links:
      - api
  api:
    build: ./ReleaseBoardApi/
    links:
      - mongo
      - mysql
    expose:
      - 3000
  mongo:
    image: mongo:latest
    volumes:
      - /var/lib/mongo
    expose:
      - 27017
  mysql:
    image: mysql:latest
    volumes: 
      - /var/lib/sql_data
    environment: 
      MYSQL_ROOT_PASSWORD: secret
      MYSQL_DATABASE: releasedb
      MYSQL_USER: rb_user
      MYSQL_PASSWORD: banana